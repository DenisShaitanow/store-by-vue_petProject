<template>
  <div :class="[$style.button_container]">
    <button
      :class="[
        $style.button,
        {
          [$style.button_visible]: visible,
        },
      ]"
      type="button"
      @click="emit('click')"
    >
      <svg
        v-if="visible"
        :class="[$style.button_container]"
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 24 24"
        width="24"
        height="24"
        fill="none"
      >
        <path
          fill="var(--text-color)"
          d="M11.9999 16.33c-2.38998 0-4.32998-1.94-4.32998-4.33 0-2.38999 1.94-4.32999 4.32998-4.32999 2.39 0 4.33 1.94 4.33 4.32999 0 2.39-1.94 4.33-4.33 4.33Zm0-7.15999c-1.56 0-2.82998 1.26999-2.82998 2.82999s1.26998 2.83 2.82998 2.83c1.56 0 2.83-1.27 2.83-2.83s-1.27-2.82999-2.83-2.82999Z"
        />
        <path
          fill="var(--text-color)"
          d="M12.0001 21.02c-3.76002 0-7.31002-2.2-9.75002-6.02-1.06-1.65-1.06-4.34 0-5.99999 2.45-3.82 6-6.02 9.75002-6.02 3.75 0 7.3 2.2 9.74 6.02 1.06 1.64999 1.06 4.33999 0 5.99999-2.44 3.82-5.99 6.02-9.74 6.02Zm0-16.53999c-3.23002 0-6.32002 1.94-8.48002 5.33-.75 1.16999-.75 3.20999 0 4.37999 2.16 3.39 5.25 5.33 8.48002 5.33 3.23 0 6.32-1.94 8.48-5.33.75-1.17.75-3.21 0-4.37999-2.16-3.39-5.25-5.33-8.48-5.33Z"
        />
      </svg>

      <svg
        v-else
        :class="[$style.button_container]"
        viewBox="0 0 24 24"
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        fill="none"
      >
        <path
          fill="var(--text-color)"
          d="M9.64483 15.0504c-.17677 0-.35353-.0652-.49308-.2047-.76288-.7629-1.18154-1.777-1.18154-2.8469 0-2.22348 1.80487-4.02834 4.02839-4.02834 1.0699 0 2.084.41865 2.8468 1.18153.1303.13025.2047.30701.2047.49308s-.0744.36283-.2047.49313l-4.7075 4.7075c-.13954.1395-.31631.2047-.49307.2047Zm2.35377-5.68443c-1.4513 0-2.63287 1.18153-2.63287 2.63283 0 .4652.12094.9118.34422 1.3025l3.59115-3.5911c-.3908-.22329-.8373-.34423-1.3025-.34423Z"
        />
        <path
          fill="var(--text-color)"
          d="M6.04471 18.0554c-.15816 0-.32562-.0558-.45586-.1675-.99547-.8466-1.8886-1.8886-2.65148-3.098-.98616-1.5351-.98616-4.0377 0-5.58207 2.27004-3.5539 5.57275-5.60065 9.06153-5.60065 2.0467 0 4.0656.70706 5.8332 2.03744.307.23259.3722.66985.1396.97686-.2326.30701-.6699.37214-.9769.13955-1.5257-1.15362-3.2562-1.75834-4.9959-1.75834-3.00501 0-5.87976 1.80486-7.8893 4.95872-.69775 1.08849-.69775 2.98639 0 4.07489.69776 1.0885 1.49785 2.0281 2.38168 2.791.2884.2512.32562.6885.07442.9862-.13024.1581-.32562.2419-.52099.2419Zm5.95439 2.3351c-1.2373 0-2.44678-.2512-3.6097-.7443-.35353-.1488-.52099-.5582-.37214-.9117.14886-.3535.55821-.521.91173-.3721.98617.4186 2.01881.6326 3.06081.6326 3.005 0 5.8798-1.8048 7.8893-4.9587.6978-1.0885.6978-2.9864 0-4.0749-.2884-.45586-.6047-.89313-.9396-1.30248-.2419-.2977-.1954-.73496.1023-.98616.2977-.24189.735-.20467.9862.10234.3628.44656.7163.93034 1.0326 1.43273.9862 1.53507.9862 4.03767 0 5.58207-2.27 3.5539-5.5727 5.6006-9.0615 5.6006Z"
        />
        <path
          fill="var(--text-color)"
          d="M12.641 15.9714c-.3256 0-.6234-.2326-.6885-.5675-.0744-.3815.1768-.7443.5582-.8094 1.0234-.1861 1.8793-1.042 2.0654-2.0654.0744-.3814.4372-.6233.8187-.5582.3814.0745.6326.4373.5582.8187-.2977 1.6095-1.5816 2.8841-3.1818 3.1818-.0465-.0093-.0837 0-.1302 0ZM2.69543 22c-.17677 0-.35353-.0651-.49308-.2047-.2698-.2698-.2698-.7163 0-.9861l6.94964-6.9497c.2698-.2698.71637-.2698.98621 0 .2698.2698.2698.7164 0 .9862l-6.94969 6.9496c-.13955.1396-.31632.2047-.49308.2047ZM14.3527 10.3428c-.1768 0-.3536-.0651-.4931-.2046-.2698-.26984-.2698-.71641 0-.9862l6.9496-6.94965c.2698-.2698.7164-.2698.9862 0 .2698.2698.2698.71636 0 .98616l-6.9497 6.94969c-.1395.1395-.3163.2046-.493.2046Z"
        />
      </svg>
    </button>
  </div>
</template>

<script module setup lang="ts">
  import { withDefaults, defineProps, defineEmits } from 'vue';

  export type RevealElementUIProps = {
    visible?: boolean;
    onClick: () => void;
  };

  const emit = defineEmits(['click']);

  const props = withDefaults(defineProps<RevealElementUIProps>(), {
    className: '',
  });
</script>

<style module scoped>
  .button_container {
    display: flex;
    justify-content: center;
    align-items: center;
    width: 24px;
    height: 24px;
  }

  .button {
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 0;
    place-self: center;
    background-color: var(--surface-color);
    background-image: url('../assets/eye-slash.svg');
    background-repeat: no-repeat;
    background-position: center;
    background-size: contain;
    border: none;
    cursor: pointer;
    background-color: inherit;
  }

  .button_visible {
    background-image: url('../assets/eye.svg');
  }

  @media (width <= 500px) {
    .button {
      width: 20px;
      height: 20px;
    }

    .button_container {
      width: 20px;
      height: 20px;
    }
  }
</style>
